# Piece-By-Piece

---

### Compile & Run instructions:
* Open and run project via processing.
* No command line arguments needed.
* To activate debug mode press the \` key (the one bellow the esc button)
* **!Requirement!** Make sure to have fun!
---

### [Design Document](https://docs.google.com/document/d/1VgnokkQJ6dlN8ZGiPio2rf950HojZwHc50P1fpkQ91U/edit?usp=sharing)

### Brief Summary:
We will attempt to recreate the shooter game Diep.io (an Agar.io clone) with no multiplayer, but bot enemies that you need to defeat. The MVP will focus on the movement1, stat upgrades2, and level up mechanics (including polygons), and the Final Project will focus on adding tank upgrades and bot enemies.

<img src="./ref/GunShip.png" width="250" height="200"> <img src="./ref/Shop.png" width="250" height="200"> <img src="./ref/Pentagon.png" width="250" height="200">

By shooting enemies you can gain experience points, which once you acquire enough off to level up, you gain a skill point that lets you upgrade a stat of your player. The playable map will be bigger than the entire screen, meaning the camera won't just be a static overhead view, but one that moves along with your ship, always keeping it in focus (orthographic camera).

Once we are done with the MVP (~1 week) we can start working on the actual final project. The main focus of the actual project is to add a tree of tank upgrades that allow you to attack differently and have different attributes. We will also want to add bot enemies, which are also tanks.

---

### Dev Log: (MM-DD-YYYY: "LOG")
* #### Yuxiang Huang:
    *  (05-23-2022): "Today I created the backbone of the project with Daniel in class, so I put it in main.(Totally not because I forgot to checkout into the branch I am working in). After class, to minimize merge conflict, I decided to work on the Polygon class and finished the constructors and displays for Square and Triangle, leaving the pentagon for tomorrow."
    *  (05-24-2022): "Today I finished pentagon, the last one of the polygons. Then, I tested their constructor and displays by creating 9 polygons randomly and resolve all the issues I encountered. Lastly, I colored them."
    *  (05-25-2022): "Today I worked on the map by creating 'squares' with lines and started figuring out the dimensions. Then I worked on collisions. First the collision with the border and then the collisions with the polygons. The latter didn't work as intended, and I will fix that tomorrow."
    *  (05-26-2022): "Today I continue working on the collisions between UMOs. It work as intended after we made polygons also able to move. I perfected the collision detection between polygons and player's ship. I also prevented the polygon from stuck with player's ship after collision. Lastly, I tried to do the same for polygon to polygon collisions, but it didn't work. In addition, I scale everything with a unit variable according to the display size."
    *  (05-27-2022): "Today I finished up the collisions between Polygons and ships. Then, I did the bullet collision with polygons and start working on the penetration part."
    *  (05-28-2022): "Today I go through the code and prototype of half of the classes with Daniel and made updates. I also fixed some bugs, helped worked on the display of the shop, and confirmed some of the stats."
    *  (05-29-2022): "Today I finished health regen for gunship, both within and after 30 seconds after taking damage. Then, I related dimensions to unit in all classes and checked the values using online resources. I also added experience bar and changed stats that change with the level of the ship during the process. Lastly, I reworked movement of the ship."
    *  (05-30-2022): "Today I finished the bullet speed and tested the code for the MVP demo branch. I find an issue with the health when the player's ship gain more health as it level up or upgrade maxHealth. I solved it by keeping the health of the ship the same percentage before and after gaining more health."
    *  (05-31-2022): "Today I apply an opposite force to the ship when it shoots a bullet. Also, I started creating enemies. I was able to spawn them at any level and it is able to track the player and shoot at it without interfere by the player controls."
    *  (06-01-2022): "Today I finished the collision between enemy ships and player ship, including another stat for ship ship collisions. I also fixed some bugs relating to the introduce of camera and bigger map in the game."
    *  (06-02-2022): "Today in class, I discussed and determined with Daniel the display and update distance of UMOs to optimize the program. Also, we settled the exp given to player after killing an enemy ship and the way we do acceleration and speed. For coding alone, I randomized enemy levels better and wrote a method for randomly assigning skill points. In addition, I changed shooting cool down from int to float to match the data I got from the wiki and worked on enemy spawning mechanism."
    *  (06-03-2022): "Today in class, I tested random assign skill point method with Daniel and increase player level by 1 when 'k' key pressed when debug mode is on. For coding alone, I was able to randomly assign skill points to enemies and do ship collisions (push backs) between enemies."
    *  (06-04-2022): "Today I first finished bullet bullet collision. Then, I worked on enemy ships collisions and tried to improve it, but I am thinking about redoing it again tomorrow. Next, I worked on polygons. I made them move in a random circle instead of moving randomly in place. Then I worked on polygon polygon collision, which was pretty bad until I decided to defy physics and give each object three or five times the opposite force it is suppose to get in a perfect elastic collision."
    *  (06-05-2022): "Today I mainly worked on the enemies. I randomized their movements and shooting angle. I give them a distance where they start shooting and they don't always move at 45 degree angle now. I made a kind of suicidal enemy that shoot in the opposite direction to accelerate toward the player if they have more body traits than bullet traits. There are more ideas about enemies that I will implement later. I also worked a lot on collision today and defied physics to make things nicer. However, I realized by the end that from the second we use setMag(), we are defying physics and I will rework speed tomorrow."
    *  (06-06-2022): "Today I adjust values for shooting distance for enemies and tried to rework speed and collisions, which didn't end well. My main accomplishment today is to create three types of enemies and display them differently and each of them has a different trait. "straight" type enemies run straight toward the player ship and shoot straight at it. "random" type enemies move randomly with a general direction toward the player ship and shoot randomly but with a central spread toward the player ship. "predict" type enemies do every thing the "straight" enemy do except with the player ship's position after one second with the current dx and dy."
    *  (06-07-2022): "Today I fixed the issue of polygons flying across the screen by making everything spawning farther apart and redo polygon collision with border. They now can go outside the boundary and come back to prevent stacked collision. I also changed and create the cheat keys. All of them only work in debug mode. 'h' regain all health for player ship, 'j' spawn another enemy, 'k' deals 50 damage to all enemy ships, and 'l' levels player ship up by one level."
    *  (06-08-2022): "Today I start by creating an invincible frame after collision that protect the ship from any damage and limit it to do any damage. Next, I wrote a method call spawnAnEnemy that spawn different kinds of ships base on level. In addition, I figured out the problem with size when spawning higher level ships and fixed it for gunship class. I also fixed a problem with colors for enemy constructors for tier 2 tanks. Lastly, I made a boss when player reach level 30. It will change through three types of enemies I made, each having a different behavior. In the first transition, it will spawn four gunship enemies up, down, left, right the player ship. In the second time, it will spawn four types of tier 2 tanks diagonally from the player. I also changed spawning mechanism during the process. Now killing an enemy only decrease spawn time by 10 seconds instead of spawning another enemy immediately. After the boss is created. No more spawning of enemies except the eight the boss create."
    *  (06-09-2022): "Today I start my day by solving merge issues... Then I cap player level to 30 and create 2 more cheat keys: H for 1 million health, and L for leveling up to 29. Next, I successfully rework movement this time and solved collision with higher level ships. Lastly, I adjust values while play testing the game and created one more escaping stage for the boss. I realized that I need to solve the problem of ships stuck together tomorrow.
    *  (06-10-2022): "Last night, I fixed few more issues with enemy spawn and size before I go to sleep. Today, I fixed bullet collision, varies recoil for different types of tanks, and cap polygon velocity so it doesn't fly. I fix few more things about the boss and started a boss 2 under the request of Daniel because he did Twin Flankguard already... However, we decided to delete it later. Lastly, I asked my math classmates and my friends to play test my game and created a list of things we are going to fix tomorrow."
    *  (06-11-2022): "Today, we fixed bugs and improved the game with the advices my friends gave us yesterday. I make J key able to stop and continue enemy spawn timer. Also, tanks in invincible frame don't take bullet damage now. I fixed the constructors for tier 2 tanks, so all the trait from the previous tier are retained. I reworked random upgrade since it was very slow for high level tanks when there are few available stats to upgrade. Lastly, I balanced the last fight stage of the boss by not letting it regen health and shoot even faster."
    *  (06-12-2022): "Today, we grind on the prototype and play test the game. Also, I separated the enemies from the player gunship by making them two different classes that extend from the Gunship class. We generalize codes for the methods of the Gunship class and cleaned up codes for the whole game. Lastly, we fixed the bugs we find while playing testing the game."

* #### Daniel Yentin:
    *  (05-23-2022): "Today I began coding the project. I worked on the PBP (main) class as well as the Gunship class. I was able to create a circle that can move smoothly in all 8 directions."
    *  (05-24-2022): "Today I implemented the ability for the gunship to rotate. I also consolidated all the parts of the gunship into one PShape. I tested it and worked out all the issues before merging."
    *  (05-25-2022): "Today I worked on adding the shooting mechanic to the gunship. This meant that I also had to code the Bullet class. I was able to get the basic bullet movement mechanics working as well as a cooldown to the shooting of the gunship. Tomorrow i will work on implementing bullet collision and health mechanics, as well as adding a timer lifespan to the bullets."
    *  (05-26-2022): "Today I worked on general code refactoring. I deleted some unnecessary functions and methods, as well as changed the way we were handling inputs to match Mr. K's  specifications, and finally converting all the polygon shapes into PShape objects to standardize our method of displaying. I also continued to work on bullet, giving it friction. I helped Yuxiang fix a bug with the polygons not moving."
    *  (05-27-2022): "Today I implemented a lot of small to medium features. I made bullets disappear if they hit the border, gave health, maxHealth, and a healthbar to Gunship and Polygon. I then made gunship and bullet collisions with polygons hurt polygons and the gunship. I then implemented Exp and Levels."
    *  (05-28-2022): "Today I mainly worked on the Shop and Stat classes. I transferred all the stats of the gunship into the two classes and included the base stat and the modifier. I also added the ability to level up, which would give you a skill point to spend on upgrading your stats. I also worked on many smaller things like making the gun scale, as well as making acceleration scale with movement speed for smoother movement."
    *  (05-29-2022): "Today I worked on the health regen stat of the Shop but also polished up the rest of the shop and stats. I also began working on the orthographic camera but quickly realized it's going to take a much longer time and probably won't be ready for the MVP. I also changed radius of the gunship to properly scale with its level."
    *  (05-30-2022): "Today I worked on thoroughly testing the game and code to make sure there weren't any major bugs present that could break the game. I also found places where I could optimize some code, particularly in collisionWithUMO, where a stopping condition could be implemented to speed up collision checks."
    *  (05-31-2022): "Today I fixed the issue with fullscreen by making it always appear on the main screen. I also changed some code to use the pow() instead of repetitive multiplication. The main thing i worked on however was converting the velocity and acceleration of the gunship into units."
    *  (06-01-2022): "Today I finished the only thing from the MVP that we had not finished, the orthographic camera. After i figured out how to make the camera I then had to diferentiate all uses of width and height to either stay width and height or displayWidth and displayHeight. I changed the playable area to be a 3k by 3k pixel board and updated the grid lines to fill in the board completly and made a concrete grey border."
    *  (06-02-2022): "Today I decided to finish one of the low priority items, the minimap. I made the minimap display your position and the positions of all the enemies. I also worked with Yuxiang to decide how to approach update distance and display distance to optimize the game."
    *  (06-03-2022): "Today I implemented more debug functionality by allowing debug to be activated when game has ended. I also allowed to freely level up with the press of 'k' when debug mode is activated. I also gave the ability to autofire when mouse is held down."
    *  (06-04-2022): "Today I started work on preparing us for implementing evolution by implementing the Gun class so that we can have diffrent gunships with diffrent amounts of guns. I gave Gun an angle so that a Gun could be at any rotation. I also playtested the game and fixed some values for better gameplay."
    *  (06-05-2022): "Today I added a pause button 'p' that pauses the game. I also started work on implementing the evolution mechanic and the tier 2 evolutions: Twin, Machine gun, Sniper, and Flank Guard. The base tank can evolve when it reaches level 15"
    *  (06-06-2022): "Today I finished the display for the tier 2 evolutions: Twin, Machine gun, Sniper, and Flank Guard. I also started work on some tier 3 evolutions. A tier 2 tanks can evolve when it reaches level 30."
    *  (06-07-2022): "Today I continued working on implementing T3 evolutions. I first finished off making the Quad Tank, and then worked on the Twin Flank tank. "
    *  (06-08-2022): "Today I implemented alot of little things. I began by changing the number of polygons that spawn at the start form a set number (100) to be a variable determined by the width and height of the game. I also made a new class, GameScreen, to hold all the diffrent types of screens for all the diffrent gamestates (PAUSED, LOST, WON). I also condensed the code for displaying and updating all the polygons and enemies into functions for cleaner code. I also implmented auto rotate, which is toggleable with the 'q' key, and lets you automatically rotate at a medium pace. With GameScreen made, I started to work on the Intro and Control screens. The Intro screen shows the name of the game and our names, and the Control screen which would show all the controls and debug controls."
    *  (06-09-2022): "Today I did not do alot but implemented some little stuff and QOL things. I fixed a bug where player would not spawn in with the correct radius, I added line indicators to shop to make it easier to see how many levels each stat had, changed player color to light blue to match the real game, and added a timer message to warn the player when the boss is about to spawn in."
    *  (06-10-2022): "Today me an Yuixang decided that adding T3 evolutions would have been too much to do, and would be very unbalanced as the easiest ones to implement would not be evenly split across all the T2 tanks. As such we decided to scrap the idea and use one of the T3 tanks already amde, the Quad Tank, as a final boss, which Yuxiang would implement the AI for."
    *  (06-11-2022): "Today me and Yuxiang playtested the game and added the final features that we wanted. A big change I made was changed the previously linear function that we used to determine the exp required for the next level to a quadratic one."
    *  (06-12-2022): "Today me and Yuxiang worked hard on updating the prototype and UML document to match what we have in our code. We also refactored alot of code to make it more efficent by spliting the enemy and player classes and fixing any bugs that that caused."

---

### Made by the "We Piece Together" team:
* #### Yuxiang Huang (co-founder)
* #### Daniel Yentin (co-founder)
